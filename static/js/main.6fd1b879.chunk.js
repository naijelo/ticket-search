(this.webpackJsonpaviacalendar=this.webpackJsonpaviacalendar||[]).push([[0],{130:function(t,e,a){"use strict";a.r(e);var n=a(3),c=a.n(n),r=a(15),i=a.n(r),s=(a(54),a(55),a(34)),o=a.n(s),u=a(44),l=a(6),j=(a(57),a(18)),d=a(24),b=(a(58),a(4)),O=["variant","children"],f=function(t){var e=t.variant,a=void 0===e?"primary":e,n=t.children,c=Object(d.a)(t,O);return Object(b.jsx)("button",Object(j.a)(Object(j.a)({className:"button ".concat(a)},c),{},{children:n}))},h=(a(60),["variant","children","label"]),p=function(t){var e=t.variant,a=void 0===e?"medium":e,n=(t.children,t.label),c=Object(d.a)(t,h);return Object(b.jsx)("div",{children:Object(b.jsxs)("label",{children:[n,Object(b.jsx)("input",Object(j.a)({type:"text",className:"input ".concat(a),required:!0},c))]})})},m=(a(61),function(t){for(var e=t.postsPerPage,a=t.totalPosts,n=t.paginate,c=[],r=1;r<=Math.ceil(a/e);r++)c.push(r);return Object(b.jsx)("nav",{children:Object(b.jsx)("ul",{className:"pagination",children:c.map((function(t){return Object(b.jsx)("li",{className:"pageItem",children:Object(b.jsx)("a",{onClick:function(){return n(t)},href:"!#",className:"pageLink",children:t})},t)}))})})}),v=(a(62),function(t){var e=t.theme,a=void 0===e?"dropdown__lighttheme":e,n=t.filteredData,c=t.addCity,r=t.setCustomInput,i=t.setFilteredData;return Object(b.jsx)("ul",{className:"dropdown ".concat(a),children:n.map((function(t,e){return Object(b.jsx)("li",{className:"from",onClick:function(t){return c(t,r,i)},children:t.name},e)}))})}),x=a(45),g=a.n(x),S=function(t){var e=t.ticketData,a=t.loading,n=t.dataError;return a?Object(b.jsx)("h2",{children:"Loading..."}):n?Object(b.jsx)("h3",{children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043c\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443. \u0414\u0430\u0432\u0430\u0439\u0442\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0435\u043c \u0435\u0449\u0451 \u0440\u0430\u0437?:)"}):Object(b.jsx)("ul",{children:e.map((function(t,e){return Object(b.jsxs)("li",{children:["\u0414\u0430\u0442\u0430 \u0432\u044b\u043b\u0435\u0442\u0430: ",t.depart_date,"\u0426\u0435\u043d\u0430 \u0432 \u0440\u0443\u0431\u043b\u044f\u0445: ",t.value]},e)}))})},C=a(35),y=(a(81),function(t){var e=Object(n.useState)(!1),a=Object(l.a)(e,2),c=a[0],r=a[1],i=Object(n.useState)(""),s=Object(l.a)(i,2),j=s[0],d=s[1],O=Object(n.useState)(""),h=Object(l.a)(O,2),x=h[0],y=h[1],N=Object(n.useState)(""),D=Object(l.a)(N,2),w=D[0],k=D[1],_=Object(n.useState)(""),I=Object(l.a)(_,2),P=I[0],F=I[1],L=Object(n.useState)([]),M=Object(l.a)(L,2),E=M[0],q=M[1],J=Object(n.useState)([]),W=Object(l.a)(J,2),A=W[0],B=W[1],T=Object(n.useState)([]),Y=Object(l.a)(T,2),z=Y[0],G=Y[1],H=Object(n.useState)([]),K=Object(l.a)(H,2),Q=K[0],R=K[1],U=Object(n.useState)(!1),V=Object(l.a)(U,2),X=V[0],Z=V[1],$=Object(n.useState)(1),tt=Object(l.a)($,2),et=tt[0],at=tt[1],nt=Object(n.useState)(10),ct=Object(l.a)(nt,1)[0],rt=et*ct,it=rt-ct,st=Q.slice(it,rt);Object(n.useEffect)((function(){(function(){var t=Object(u.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z(!0),t.next=3,C.get("/cities.json");case 3:e=t.sent,G(e.data),Z(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var ot=function(t,e,a){""===t.target.value?e([]):e(z.filter((function(e){return e.name.toLowerCase().includes(t.target.value.toLowerCase())}))),a(t.target.value)},ut=function(t,e,a){var n=t.target;"li"===n.tagName.toLowerCase()&&(a([]),e(n.textContent))};return Object(b.jsxs)("div",{children:[Object(b.jsxs)("form",{className:"ticketSearch",onSubmit:function(t){t.preventDefault();var e={from:z.find((function(t){return j===t.name})).code,to:z.find((function(t){return x===t.name})).code,date:P},a="?origin=".concat(e.from,"&destination=").concat(e.to,"&depart_day=").concat(e.date,"&one_way=true");C.get("http://min-prices.aviasales.ru/calendar_preload"+a).then((function(t){t=t.data.best_prices,console.log(t),R(t)})).catch((function(t){r(!0)}))},children:[Object(b.jsxs)("div",{className:"inputWrapper",children:[Object(b.jsxs)("div",{className:"inputWrapper__from",children:[Object(b.jsx)(p,{label:"\u041e\u0442\u043a\u0443\u0434\u0430",value:j,onInput:function(t){return ot(t,q,d)}}),0!==E.length&&Object(b.jsx)(v,{setCustomInput:d,filteredData:E,setFilteredData:q,addCity:ut})]}),Object(b.jsx)(p,{label:"\u041a\u0443\u0434\u0430",value:x,onChange:function(t){return ot(t,B,y)}}),0!==A.length&&Object(b.jsx)(v,{setCustomInput:y,filteredData:A,setFilteredData:B,addCity:ut})]}),Object(b.jsx)(g.a,{placeholderText:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",className:"datepicker",selected:w,dateFormat:"yyyy-MM-dd",onChange:function(t){var e="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());F(e),k(t)},minDate:new Date,required:!0}),Object(b.jsx)(f,{title:"Submit",children:"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u0430\u043b\u0438\u0447\u0438\u0435"})]}),Object(b.jsx)(S,{ticketData:st,loading:X,dataError:c}),Object(b.jsx)(m,{postsPerPage:ct,totalPosts:Q.length,paginate:function(t){at(t)}})]})});var N=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(y,{})})};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))},54:function(t,e,a){},55:function(t,e,a){},57:function(t,e,a){},58:function(t,e,a){},60:function(t,e,a){},61:function(t,e,a){},62:function(t,e,a){}},[[130,1,2]]]);
//# sourceMappingURL=main.6fd1b879.chunk.js.map